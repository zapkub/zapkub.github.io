(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(4),r=n.n(l),c=(n(11),n(13),n(15),n(5)),u=n(1),i=n(2),m=n.n(i);var s={filter:"All",todos:[],textInput:""};var d=o.a.createContext(),f=function(e){var t=e.children;return o.a.createElement(d.Consumer,null,function(e){return t(e)})},h=function(e){var t=e.children,n=function(){var e=o.a.useState(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],l=o.a.useState(),r=Object(u.a)(l,2),c=r[0],i=r[1];return o.a.useEffect(function(){m.a.getItem("todoState").then(function(e){e&&(console.log("dehydrated state..."),i(e)),a(!1)})},[]),{loading:n,dehydratedState:c}}(),a=n.loading,l=n.dehydratedState;if(a)return o.a.createElement("div",null);var r,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=o.a.useState(e.filter),n=Object(u.a)(t,2),a=n[0],l=n[1],r=o.a.useState(e.todos),i=Object(u.a)(r,2),m=i[0],d=i[1],f=o.a.useState(e.textInput),h=Object(u.a)(f,2),E=h[0],p=h[1];return{filter:a,filterList:["All","Active","Completed"],onSetFilter:function(e){return function(){return l(e)}},get todos(){switch(a){case"Active":return m.filter(function(e){return!e.completed});case"Completed":return m.filter(function(e){return e.completed});case"All":default:return m}},textInput:E,onInputChange:function(e){p(e.target.value)},onTodoTitleChange:function(e){return function(t){d(m.map(function(n,a){return a===e&&(n.title=t),n}))}},onCheckTodo:function(e){return function(t){d(m.map(function(n,a){return a===e&&(n.completed=t.target.checked),n}))}},onCheckAllTodo:function(){return function(e){d(m.map(function(t){return t.completed=e.target.checked,t}))}},onRemoveTodo:function(e){return function(){d(m.filter(function(t,n){return e!==n}))}},onSubmitTodo:function(){d(Object(c.a)(m).concat([{title:E,completed:!1}])),p("")},onClearCompletedTodo:function(){d(m.filter(function(e){return!e.completed}))}}}(l),f=i.todos,h=i.textInput,E=i.filter;return r={todos:f,filter:E,textInput:h},o.a.useEffect(function(){r&&(console.log("hydrated state..."),m.a.setItem("todoState",r))},[r]),o.a.createElement(d.Provider,{value:i},t)},E=function(e){var t=e.active,n=e.filter,a=e.onClick;return o.a.createElement("a",{href:"/#",className:t?"selected":"",onClick:a},n)},p=function(){return o.a.createElement(f,null,function(e){var t=e.filterList,n=e.onSetFilter,a=e.filter;return o.a.createElement("ul",{className:"filters"},t.map(function(e){return o.a.createElement("li",{key:e},o.a.createElement(E,{active:a===e,filter:e,onClick:n(e)}))}))})},g=function(){return o.a.createElement(f,null,function(e){var t=e.onSubmitTodo,n=e.textInput,a=e.onInputChange;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{onKeyPress:function(e){"Enter"===e.key&&t()},className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0,value:n,onChange:a}))})},v=function(e){var t=e.title,n=e.completed,a=e.onChecked,l=e.onRemove,r=e.onTitleChange,c=o.a.useState(!1),i=Object(u.a)(c,2),m=i[0],s=i[1],d=o.a.createRef();return o.a.useEffect(function(){m?d.current.focus():r(d.current.innerHTML)},[m]),o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:"toggle",onChange:a,checked:n,type:"checkbox"}),o.a.createElement("label",{ref:d,contentEditable:m,onDoubleClick:function(){s(!0)},onChange:r,className:m?"on-edit":"",onBlur:function(){return s(!1)},dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("button",{onClick:l,className:"destroy"}))},C=function(){var e=o.a.useContext(d),t=e.todos,n=e.onRemoveTodo,a=e.onCheckTodo,l=e.onCheckAllTodo,r=e.onTodoTitleChange;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{onChange:l(),id:"toggle-all",className:"toggle-all",type:"checkbox"}),o.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),o.a.createElement("ul",{className:"todo-list"},t.map(function(e,t){return o.a.createElement("li",{key:t},o.a.createElement(v,Object.assign({},e,{onTitleChange:r(t),onRemove:n(t),onChecked:a(t)})))})))},k=function(){return o.a.createElement("footer",{className:"info"},o.a.createElement("p",null,"Double-click to edit a todo"),o.a.createElement("p",null,"Written by ",o.a.createElement("a",{href:"https://github.com/zapkub/react-in-a-nutshell"},"Rungsikorn R")),o.a.createElement("p",null,"Part of ",o.a.createElement("a",{href:"http://todomvc.com"},"TodoMVC")))},b=function(){return o.a.createElement(f,null,function(e){return o.a.createElement("span",{className:"todo-count"},o.a.createElement("strong",null,e.todos.length)," item",1===e.todos.length?"":"s"," left")})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(function(){return o.a.createElement(h,null,o.a.createElement(f,null,function(e){var t=e.onClearCompletedTodo;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"App todoapp"},o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"todos"),o.a.createElement(g,null)),o.a.createElement("section",{className:"main"},o.a.createElement(C,null)),o.a.createElement("footer",{className:"footer"},o.a.createElement(b,null),o.a.createElement(p,null),o.a.createElement("button",{className:"clear-completed",onClick:t},"Clear completed"))),o.a.createElement(k,null))}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,t,n){e.exports=n(18)}},[[6,2,1]]]);
//# sourceMappingURL=main.06a0c3a9.chunk.js.map